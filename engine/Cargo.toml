[package]
name = "url-cleaner-engine"
version = "0.11.0"
edition = "2024"
description = "The engine behind URL Cleaner."
repository = "https://github.com/Scripter17/url-cleaner"
keywords = ["url", "url-tracking", "privacy", "url-cleaner"]
categories = []
license = "AGPL-3.0-or-later"
readme = "README.md"

[dependencies]
serde = { version = "1.0.219", features = ["derive"] }
serde_json = "1.0.140"
serde_with = "3.12.0"
thiserror = "2.0.12"
url = { version = "2.5.4", features = ["serde"] }
psl = "2.1.113"
form_urlencoded = "1.2.1"
percent-encoding = "2.3.1"
url-cleaner-macros = { version = "0.11.0", path = "../macros" }
regex   = { optional = true, version = "1.11.1" }
reqwest = { optional = true, version = "0.12.18", features = ["blocking", "socks", "json", "cookies", "native-tls-alpn"] }
diesel  = { optional = true, version = "2.2.10" , features = ["sqlite"] }
base64  = { optional = true, version = "0.22.1" }
which   = { optional = true, version = "7.0.3"  }

[build-dependencies]
serde_json = "1.0.140"

[features]
default         = ["default-cleaner"]
default-cleaner = ["regex", "http", "cache", "base64"]
regex           = ["dep:regex"]
http            = ["dep:reqwest"]
cache           = ['dep:diesel']
base64          = ["dep:base64"]
commands        = ["dep:which"]
custom          = []
debug           = []

[lints]
workspace = true
