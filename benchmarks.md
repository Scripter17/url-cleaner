# Benchmarks

[Hyperfine]: https://github.com/sharkdp/hyperfine
[Valgrind]: https://valgrind.org
[Callgrind]: https://valgrind.org/info/tools.html#callgrind
[Massif]: https://valgrind.org/info/tools.html#massif

## System info

```
distro: Ubuntu 25.10 x86_64 
kernel: 6.17.0-8-generic 
model: 20FAS39200 ThinkPad T460s 
cpu: Intel i5-6300U (4) @ 3.000GHz 
memory: 3616MiB / 11365MiB 
```

## Tasks

|Name|Task|
|:--|:--|
|Baseline|`https://example.com`|
|UTPs|`https://example.com?fb_action_ids&mc_eid&ml_subscriber_hash&oft_ck&s_cid&unicorn_click_id`|
|Amazon|`https://www.amazon.ca/UGREEN-Charger-Compact-Adapter-MacBook/dp/B0C6DX66TN/ref=sr_1_5?crid=2CNEQ7A6QR5NM&keywords=ugreen&qid=1704364659&sprefix=ugreen%2Caps%2C139&sr=8-5&ufe=app_do%3Aamzn1.fos.b06bdbbe-20fd-4ebc-88cf-fa04f1ca0da8`|
|Google|`https://www.google.com/search?q=url+cleaner&sca_esv=de6549fe37924183&ei=eRAYabb6O7Gb4-EP79Xe6A8&ved=0ahUKEwj2mqWLt_OQAxWxzTgGHe-qF_0Q4dUDCBE&oq=url+cleaner&gs_lp=Egxnd3Mtd2l6LXNlcnAiC3VybCBjbGVhbmVySABQAFgAcAB4AZABAJgBAKABAKoBALgBDMgBAJgCAKACAJgDAJIHAKAHALIHALgHAMIHAMgHAA&sclient=gws-wiz-serp`|

## CLI

### Speed

Average milliseconds. Measured by [Hyperfine].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`6.4`|`6.4`|`6.5`|`6.8`|`8.8`|`24.0`|`149.1`|`1301.8`|
|UTPs|`6.3`|`6.4`|`6.5`|`6.9`|`10.1`|`33.7`|`241.3`|`2143.9`|
|Amazon|`6.3`|`6.4`|`6.5`|`7.0`|`10.5`|`37.1`|`284.8`|`2635.4`|
|Google|`6.3`|`6.4`|`6.5`|`6.9`|`10.6`|`39.3`|`297.3`|`2752.1`|

### Memory

Peak memory usage. Measured by [Valgrind]'s [Massif].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`580,795`|`579,671`|`590,047`|`595,809`|`650,959`|`938,679`|`1,976,581`|`2,005,881`|
|UTPs|`579,515`|`579,515`|`589,972`|`609,829`|`722,099`|`1,009,817`|`2,130,663`|`2,251,777`|
|Amazon|`578,475`|`578,475`|`591,956`|`628,527`|`863,125`|`1,394,991`|`2,054,978`|`2,066,306`|
|Google|`579,515`|`579,945`|`592,939`|`638,336`|`895,804`|`1,572,036`|`2,347,250`|`2,350,180`|

## Site HTTP

Measured using [URL Cleaner Site Client](./site-client/)

### Speed

Average milliseconds. Measured by [Hyperfine].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`4.4`|`5.5`|`6.9`|`7.3`|`6.9`|`29.8`|`216.2`|`1602.3`|
|UTPs|`4.5`|`6.2`|`7.0`|`8.2`|`8.1`|`41.9`|`265.4`|`2402.8`|
|Amazon|`4.5`|`7.2`|`7.0`|`5.3`|`11.1`|`40.2`|`330.8`|`2877.6`|
|Google|`4.5`|`8.2`|`7.0`|`5.3`|`9.6`|`41.1`|`323.4`|`3117.0`|

### Memory

Peak memory usage. Measured by [Valgrind]'s [Massif].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`715,378`|`715,866`|`714,650`|`733,418`|`793,694`|`1,337,964`|`2,895,006`|`2,946,680`|
|UTPs|`715,378`|`734,018`|`734,018`|`734,018`|`952,711`|`1,621,930`|`2,179,316`|`3,162,178`|
|Amazon|`733,306`|`715,490`|`733,418`|`744,747`|`1,322,037`|`2,060,007`|`2,471,123`|`3,239,417`|
|Google|`715,370`|`715,045`|`714,650`|`765,278`|`1,268,678`|`2,191,558`|`2,700,762`|`2,957,179`|

## Site HTTPS

Measured using [URL Cleaner Site Client](./site-client/)

### Speed

Average milliseconds. Measured by [Hyperfine].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`32.3`|`34.2`|`36.1`|`35.3`|`38.4`|`51.3`|`211.1`|`1749.6`|
|UTPs|`32.4`|`35.6`|`35.1`|`35.5`|`39.0`|`60.7`|`312.2`|`2559.3`|
|Amazon|`32.4`|`37.4`|`35.0`|`36.4`|`37.3`|`67.0`|`374.4`|`3149.3`|
|Google|`32.4`|`36.3`|`34.9`|`36.3`|`37.7`|`75.9`|`369.8`|`3481.5`|

### Memory

Peak memory usage. Measured by [Valgrind]'s [Massif].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`760,272`|`760,229`|`760,901`|`760,389`|`870,037`|`1,268,381`|`1,611,565`|`2,290,441`|
|UTPs|`760,272`|`760,389`|`760,229`|`783,221`|`958,239`|`1,176,224`|`1,441,487`|`1,773,225`|
|Amazon|`760,272`|`760,389`|`760,829`|`820,681`|`1,116,996`|`1,346,695`|`1,876,102`|`1,792,089`|
|Google|`760,272`|`760,389`|`760,716`|`830,634`|`1,186,508`|`1,323,209`|`1,644,320`|`1,958,850`|

## Site WebSocket

Measured using [URL Cleaner Site Client](./site-client/)

### Speed

Average milliseconds. Measured by [Hyperfine].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`4.6`|`4.8`|`4.8`|`5.0`|`6.9`|`23.3`|`161.6`|`1543.5`|
|UTPs|`4.6`|`4.8`|`4.8`|`5.1`|`8.3`|`33.0`|`265.7`|`2570.1`|
|Amazon|`4.6`|`4.8`|`4.8`|`5.3`|`9.8`|`41.7`|`343.0`|`3237.3`|
|Google|`4.6`|`4.8`|`4.8`|`5.3`|`10.3`|`47.4`|`382.7`|`3679.7`|

### Memory

Peak memory usage. Measured by [Valgrind]'s [Massif].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`835,314`|`835,314`|`834,930`|`834,869`|`908,891`|`1,614,340`|`2,466,888`|`2,495,216`|
|UTPs|`834,930`|`834,930`|`834,869`|`852,135`|`1,214,952`|`1,772,180`|`1,869,468`|`1,885,425`|
|Amazon|`834,930`|`835,314`|`834,930`|`862,216`|`1,433,186`|`1,587,047`|`1,585,769`|`1,586,778`|
|Google|`835,314`|`832,882`|`835,314`|`888,525`|`1,526,906`|`1,606,401`|`1,607,134`|`1,571,302`|

## Site WebSocket Secure

Measured using [URL Cleaner Site Client](./site-client/)

### Speed

Average milliseconds. Measured by [Hyperfine].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`32.5`|`32.8`|`32.8`|`33.1`|`93.3`|`51.9`|`233.9`|`9345.0`|
|UTPs|`32.6`|`32.9`|`32.9`|`33.3`|`88.7`|`415.7`|`333.9`|`2687.9`|
|Amazon|`32.6`|`32.9`|`32.9`|`91.3`|`37.4`|`162.0`|`451.4`|`3608.3`|
|Google|`32.8`|`32.9`|`32.9`|`90.2`|`45.9`|`908.7`|`487.7`|`4104.3`|

### Memory

Peak memory usage. Measured by [Valgrind]'s [Massif].

|Name|0|1|10|100|1,000|10,000|100,000|1,000,000|
|:--|--:|--:|--:|--:|--:|--:|--:|--:|
|Baseline|`882,224`|`882,224`|`882,224`|`882,224`|`952,633`|`1,588,863`|`2,436,497`|`2,252,629`|
|UTPs|`882,224`|`882,224`|`882,224`|`908,722`|`1,156,809`|`1,817,371`|`1,819,591`|`1,853,781`|
|Amazon|`882,224`|`882,224`|`882,224`|`922,916`|`1,408,692`|`1,548,096`|`1,545,367`|`1,545,963`|
|Google|`882,224`|`882,224`|`882,064`|`933,019`|`1,480,081`|`1,569,721`|`1,533,279`|`1,531,705`|

